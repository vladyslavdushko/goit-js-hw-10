{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst PIXABAY_API_KEY = '44111421-e553a4c4acf6f519f7af5aa9e';\nconst PIXABAY_API_URL = \"https://pixabay.com/api/\";\n\nexport default async function getPicture(query) {\n  const options = {\n    origin: PIXABAY_API_URL,\n    key: PIXABAY_API_KEY,\n    image_type: 'photo',\n    q: query,\n    orientation: 'horizontal',\n    safesearch: true,\n  };\n\n  const searchStr = `${options.origin}?key=${options.key}&q=${options.q}&image_type=${options.image_type}&orientation=${options.orientation}&safesearch=${options.safesearch}`;\n\n  return fetch(searchStr)\n    .then(res => {\n      if (!res.ok) {\n        throw new Error(res.statusText);\n      }\n      return res.json();\n    })\n\n    \n}\n","// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader-container')\n\nexport function renderGallery(res) {\n    \n\n    loader.classList.add(\"is-visible\");\n    loader.classList.remove(\"is-hidden\");\n    gallery.innerHTML = '';\n\n    \n        \n            let markup = res.hits.map( (image) => \n                `\n                <li class='gallery-item'>\n                <a href=${image.largeImageURL}>\n                <img src=${image.webformatURL} alt=${image.tags} class=\"gallery-img\" title=\"${image.tags}\">\n                <div class=\"inner-container\">\n                <ul class=\"inner-item-ul\">\n                <li class=\"inner-item-li\">\n                    <p class=\"inner-item-p\">Likes</p>\n                    <span class=\"inner-item-span\">${image.likes}</span>\n                </li>\n\n                <li class=\"inner-item-li\">\n                    <p class=\"inner-item-p\">Views</p>\n                    <span class=\"inner-item-span\">${image.views}</span>\n                </li>\n\n                <li class=\"inner-item-li\">\n                    <p class=\"inner-item-p\">Comments</p>\n                    <span class=\"inner-item-span\">${image.comments}</span>\n                </li>\n\n                <li class=\"inner-item-li\">\n                    <p class=\"inner-item-p\">Downloads</p>\n                    <span class=\"inner-item-span\">${image.downloads}</span>\n                </li>\n                </ul>\n                </div>\n                </a> \n                </li>`\n            ).join('');\n            \n           gallery.insertAdjacentHTML(\"beforeend\", markup);\n        loader.classList.remove(\"is-visible\");\n        loader.classList.add(\"is-hidden\");\n}\n  \n  ","import getPicture from './js/pixabay-api';\nimport { renderGallery } from './js/render-functions';\n// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst searchBtn = document.querySelector('button');\nconst form = document.querySelector('form');\nconst gallery = document.querySelector('.gallery')\nconst loader = document.querySelector('.loader-container')\n\nlet lightbox = new SimpleLightbox('.gallery a', { captionDelay: 250});\n\n\nsearchBtn.addEventListener('click', (event) => {\n  event.preventDefault();\n\n  const query = form.elements.q.value.trim();\n\n  if(query === ''){\n    return alert(\"Enter text\")\n   }\n\n   getPicture(query)\n  .then(res => {\n    if (res.total === 0) {\n      return iziToast.error({\n        title: 'Error',\n        message: `Sorry, there are no images matching your search query. Please try again!`\n      });\n    }\n    console.log(res);\n    renderGallery(res)\n    lightbox.refresh()\n  })\n  .catch(err => {\n    throw new Error(err)\n  })\n\n\n\n\n});\n"],"names":["PIXABAY_API_KEY","PIXABAY_API_URL","getPicture","query","options","searchStr","res","gallery","loader","renderGallery","markup","image","searchBtn","form","lightbox","SimpleLightbox","event","iziToast","err"],"mappings":"6vBAGA,MAAMA,EAAkB,qCAClBC,EAAkB,2BAET,eAAeC,EAAWC,EAAO,CAC9C,MAAMC,EAAU,CACd,OAAQH,EACR,IAAKD,EACL,WAAY,QACZ,EAAGG,EACH,YAAa,aACb,WAAY,EAChB,EAEQE,EAAY,GAAGD,EAAQ,MAAM,QAAQA,EAAQ,GAAG,MAAMA,EAAQ,CAAC,eAAeA,EAAQ,UAAU,gBAAgBA,EAAQ,WAAW,eAAeA,EAAQ,UAAU,GAE1K,OAAO,MAAMC,CAAS,EACnB,KAAKC,GAAO,CACX,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAMA,EAAI,UAAU,EAEhC,OAAOA,EAAI,MACjB,CAAK,CAGL,CCtBA,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,mBAAmB,EAElD,SAASC,EAAcH,EAAK,CAG/BE,EAAO,UAAU,IAAI,YAAY,EACjCA,EAAO,UAAU,OAAO,WAAW,EACnCD,EAAQ,UAAY,GAIZ,IAAIG,EAASJ,EAAI,KAAK,IAAMK,GACxB;AAAA;AAAA,0BAEUA,EAAM,aAAa;AAAA,2BAClBA,EAAM,YAAY,QAAQA,EAAM,IAAI,+BAA+BA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,oDAKpDA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA,oDAKXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA,oDAKXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA;AAAA,oDAKdA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA,sBAMnE,EAAc,KAAK,EAAE,EAEVJ,EAAQ,mBAAmB,YAAaG,CAAM,EACjDF,EAAO,UAAU,OAAO,YAAY,EACpCA,EAAO,UAAU,IAAI,WAAW,CACxC,CCzCA,MAAMI,EAAY,SAAS,cAAc,QAAQ,EAC3CC,EAAO,SAAS,cAAc,MAAM,EAC1B,SAAS,cAAc,UAAU,EAClC,SAAS,cAAc,mBAAmB,EAEzD,IAAIC,EAAW,IAAIC,EAAe,aAAc,CAAE,aAAc,GAAG,CAAC,EAGpEH,EAAU,iBAAiB,QAAUI,GAAU,CAC7CA,EAAM,eAAc,EAEpB,MAAMb,EAAQU,EAAK,SAAS,EAAE,MAAM,OAEpC,GAAGV,IAAU,GACX,OAAO,MAAM,YAAY,EAG1BD,EAAWC,CAAK,EAChB,KAAKG,GAAO,CACX,GAAIA,EAAI,QAAU,EAChB,OAAOW,EAAS,MAAM,CACpB,MAAO,QACP,QAAS,0EACjB,CAAO,EAEH,QAAQ,IAAIX,CAAG,EACfG,EAAcH,CAAG,EACjBQ,EAAS,QAAS,CACtB,CAAG,EACA,MAAMI,GAAO,CACZ,MAAM,IAAI,MAAMA,CAAG,CACvB,CAAG,CAKH,CAAC"}