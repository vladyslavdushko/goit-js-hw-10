{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst PIXABAY_API_KEY = '44111421-e553a4c4acf6f519f7af5aa9e';\nconst PIXABAY_API_URL = \"https://pixabay.com/api/\";\n\nexport default async function getPicture(query) {\n  const options = {\n    origin: PIXABAY_API_URL,\n    key: PIXABAY_API_KEY,\n    image_type: 'photo',\n    q: query,\n    orientation: 'horizontal',\n    safesearch: true,\n  };\n\n  const searchStr = `${options.origin}?key=${options.key}&q=${options.q}&image_type=${options.image_type}&orientation=${options.orientation}&safesearch=${options.safesearch}`;\n\n  return fetch(searchStr)\n    .then(res => {\n      if (!res.ok) {\n        throw new Error(res.statusText);\n      }\n      return res.json();\n    })\n    .then(res => {\n      if (res.total === 0) {\n        iziToast.error({\n          title: 'Error',\n          message: `Sorry, there are no images matching your search query. Please try again!`\n        });\n        return null;\n      }\n      return res;\n    })\n    .catch(error => {\n      iziToast.error({\n        title: 'Error',\n        message: error.message,\n      });\n      return null;\n    });\n}\n","// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\nexport function renderGallery(images) {\n    \n    const gallery = document.querySelector('.gallery');\n    const loader = document.querySelector('.loader-container')\n    loader.classList.add(\"is-visible\");\n    loader.classList.remove(\"is-hidden\");\n        gallery.innerHTML = '';\n\n    \n        images\n        .then(res => {\n            let markup = res.hits.map( (image) => \n                `\n                <li class='gallery-item'>\n                <a href=${image.largeImageURL}>\n                <img src=${image.webformatURL} alt=${image.tags} class=\"gallery-img\" title=\"${image.tags}\">\n                <div class=\"inner-container\">\n                <ul class=\"inner-item-ul\">\n                <li class=\"inner-item-li\">\n                    <p class=\"inner-item-p\">Likes</p>\n                    <span class=\"inner-item-span\">${image.likes}</span>\n                </li>\n\n                <li class=\"inner-item-li\">\n                    <p class=\"inner-item-p\">Views</p>\n                    <span class=\"inner-item-span\">${image.views}</span>\n                </li>\n\n                <li class=\"inner-item-li\">\n                    <p class=\"inner-item-p\">Comments</p>\n                    <span class=\"inner-item-span\">${image.comments}</span>\n                </li>\n\n                <li class=\"inner-item-li\">\n                    <p class=\"inner-item-p\">Downloads</p>\n                    <span class=\"inner-item-span\">${image.downloads}</span>\n                </li>\n                </ul>\n                </div>\n                </a> \n                </li>`\n            ).join('');\n            \n           gallery.insertAdjacentHTML(\"beforeend\", markup);\n         let lightbox = new SimpleLightbox('.gallery a', { captionDelay: 250});\n        lightbox.refresh();\n        loader.classList.remove(\"is-visible\");\n        loader.classList.add(\"is-hidden\");\n        })\n        .catch(err => {\n            loader.classList.remove(\"is-visible\");\n            loader.classList.add(\"is-hidden\");\n            throw new Error(err)\n        }) \n\n   \n  }\n  \n  ","import getPicture from './js/pixabay-api';\nimport { renderGallery } from './js/render-functions';\n\nconst searchBtn = document.querySelector('button');\nconst form = document.querySelector('form');\nconst gallery = document.querySelector('.gallery')\nconst loader = document.querySelector('.loader-container')\n\nsearchBtn.addEventListener('click', (event) => {\n  event.preventDefault();\n\n  const query = form.elements.q.value.trim();\n  const data = getPicture(query);\n\n  if(query === ''){\n   return alert(\"Enter text\")\n  }\n\n  if (data) {\n    renderGallery(data)\n    console.log(typeof(renderGallery));\n  }\n});\n"],"names":["PIXABAY_API_KEY","PIXABAY_API_URL","getPicture","query","options","searchStr","res","iziToast","error","renderGallery","images","gallery","loader","markup","image","SimpleLightbox","err","searchBtn","form","event","data"],"mappings":"6vBAGA,MAAMA,EAAkB,qCAClBC,EAAkB,2BAET,eAAeC,EAAWC,EAAO,CAC9C,MAAMC,EAAU,CACd,OAAQH,EACR,IAAKD,EACL,WAAY,QACZ,EAAGG,EACH,YAAa,aACb,WAAY,EAChB,EAEQE,EAAY,GAAGD,EAAQ,MAAM,QAAQA,EAAQ,GAAG,MAAMA,EAAQ,CAAC,eAAeA,EAAQ,UAAU,gBAAgBA,EAAQ,WAAW,eAAeA,EAAQ,UAAU,GAE1K,OAAO,MAAMC,CAAS,EACnB,KAAKC,GAAO,CACX,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAMA,EAAI,UAAU,EAEhC,OAAOA,EAAI,MACjB,CAAK,EACA,KAAKA,GACAA,EAAI,QAAU,GAChBC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,0EACnB,CAAS,EACM,MAEFD,CACR,EACA,MAAME,IACLD,EAAS,MAAM,CACb,MAAO,QACP,QAASC,EAAM,OACvB,CAAO,EACM,KACR,CACL,CCpCO,SAASC,EAAcC,EAAQ,CAElC,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,mBAAmB,EACzDA,EAAO,UAAU,IAAI,YAAY,EACjCA,EAAO,UAAU,OAAO,WAAW,EAC/BD,EAAQ,UAAY,GAGpBD,EACC,KAAKJ,GAAO,CACT,IAAIO,EAASP,EAAI,KAAK,IAAMQ,GACxB;AAAA;AAAA,0BAEUA,EAAM,aAAa;AAAA,2BAClBA,EAAM,YAAY,QAAQA,EAAM,IAAI,+BAA+BA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,oDAKpDA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA,oDAKXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA,oDAKXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA;AAAA,oDAKdA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA,sBAMnE,EAAc,KAAK,EAAE,EAEVH,EAAQ,mBAAmB,YAAaE,CAAM,EACjC,IAAIE,EAAe,aAAc,CAAE,aAAc,GAAG,CAAC,EAC5D,QAAO,EAChBH,EAAO,UAAU,OAAO,YAAY,EACpCA,EAAO,UAAU,IAAI,WAAW,CACxC,CAAS,EACA,MAAMI,GAAO,CACV,MAAAJ,EAAO,UAAU,OAAO,YAAY,EACpCA,EAAO,UAAU,IAAI,WAAW,EAC1B,IAAI,MAAMI,CAAG,CAC/B,CAAS,CAGT,CC3DA,MAAMC,EAAY,SAAS,cAAc,QAAQ,EAC3CC,EAAO,SAAS,cAAc,MAAM,EAC1B,SAAS,cAAc,UAAU,EAClC,SAAS,cAAc,mBAAmB,EAEzDD,EAAU,iBAAiB,QAAUE,GAAU,CAC7CA,EAAM,eAAc,EAEpB,MAAMhB,EAAQe,EAAK,SAAS,EAAE,MAAM,OAC9BE,EAAOlB,EAAWC,CAAK,EAE7B,GAAGA,IAAU,GACZ,OAAO,MAAM,YAAY,EAGtBiB,IACFX,EAAcW,CAAI,EAClB,QAAQ,IAAI,OAAOX,CAAc,EAErC,CAAC"}